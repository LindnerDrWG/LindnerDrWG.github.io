<!doctype html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>Demo</title>
</head>
<body>
<script src="https://georgeweigt.github.io/eigenmath.js"></script>
<table><tr><td>
<textarea id="stdin" rows="24" cols="80" style="font-family:courier;font-size:12pt">

--- EIGENMATH : local resp. global error ---
--  include iterate2 and EULER here

iterate2(u,X,Xo,n) = do( M = zero(n+1,2), M[1] = Xo,
           for(i,2,n+1, M[i] = eval(u, X[1],M[i-1,1], X[2],M[i-1,2])),
           transpose(M))

--- EULER method  --- 
EULER( x,y, xo,yo, h, n) =  iterate2((x+h, y+h*f(x,y)), (x,y), (xo,yo), n)  

---  function max contributed by G. Weigt:
max(L, MAX,i) = do( MAX = L[1], 
                    for(i,2,dim(L), test(L[i]>MAX, MAX=L[i])), MAX)

second(z) = z[2]
ye(x) = exp(x^2/2.0)
f(x,y) = x*y
Pe = EULER( x,y, 0,1, 0.2, 5)             -- Euler method points
L1 = second(Pe)
L2= (ye(0.0), ye(0.2), ye(0.4), ye(0.6), ye(0.8), ye(1.0) )   --(1)

globalError=abs(L1-L2)   -- global error i.e. sum of absolute values
globalError

localError = max( max(L2-L1), max(L1-L2) )      --(2)
localError

</textarea>
</td><td>
<button onclick="run()" style="font-size:20pt">Run</button>
</td></tr></table>
<p>
<div id="stdout"></div>
</body>
</html>